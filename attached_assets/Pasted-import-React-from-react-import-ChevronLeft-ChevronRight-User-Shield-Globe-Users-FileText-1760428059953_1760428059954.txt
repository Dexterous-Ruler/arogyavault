import React from 'react';
import { ChevronLeft, ChevronRight, User, Shield, Globe, Users, FileText, HelpCircle, LogOut, CheckCircle, XCircle, Edit2, Lock, Fingerprint, Heart, AlertCircle, Phone, Mail } from 'lucide-react';
import { motion } from 'framer-motion';
type ProfileSettingsScreenProps = {
  userName?: string;
  abhaId?: string;
  isAbhaLinked?: boolean;
  phone?: string;
  email?: string;
  language?: 'english' | 'hindi';
  isGuidedModeEnabled?: boolean;
  isBiometricEnabled?: boolean;
  onBack?: () => void;
  onEditProfile?: () => void;
  onLanguageChange?: (lang: 'english' | 'hindi') => void;
  onGuidedModeToggle?: () => void;
  onSetPin?: () => void;
  onBiometricToggle?: () => void;
  onManageNominee?: () => void;
  onEmergencyCard?: () => void;
  onFaq?: () => void;
  onSupport?: () => void;
  onTerms?: () => void;
  onPrivacy?: () => void;
  onLogout?: () => void;
};
const containerVariants = {
  hidden: {
    opacity: 0
  },
  visible: {
    opacity: 1,
    transition: {
      staggerChildren: 0.05
    }
  }
};
const itemVariants = {
  hidden: {
    opacity: 0,
    y: 10
  },
  visible: {
    opacity: 1,
    y: 0,
    transition: {
      duration: 0.3
    }
  }
};

// @component: ProfileSettingsScreen
export const ProfileSettingsScreen = ({
  userName = 'Rudraksh Bharti',
  abhaId = '22-XXXX-XXXX',
  isAbhaLinked = true,
  phone = '+91 98765 43210',
  email = 'rudraksh@example.com',
  language = 'english',
  isGuidedModeEnabled = false,
  isBiometricEnabled = false,
  onBack,
  onEditProfile,
  onLanguageChange,
  onGuidedModeToggle,
  onSetPin,
  onBiometricToggle,
  onManageNominee,
  onEmergencyCard,
  onFaq,
  onSupport,
  onTerms,
  onPrivacy,
  onLogout
}: ProfileSettingsScreenProps) => {
  const [selectedLanguage, setSelectedLanguage] = React.useState(language);
  const [guidedMode, setGuidedMode] = React.useState(isGuidedModeEnabled);
  const [biometric, setBiometric] = React.useState(isBiometricEnabled);
  const handleLanguageChange = (lang: 'english' | 'hindi') => {
    setSelectedLanguage(lang);
    onLanguageChange?.(lang);
  };
  const handleGuidedModeToggle = () => {
    setGuidedMode(!guidedMode);
    onGuidedModeToggle?.();
  };
  const handleBiometricToggle = () => {
    setBiometric(!biometric);
    onBiometricToggle?.();
  };
  const isHindi = selectedLanguage === 'hindi';
  const getInitials = (name: string) => {
    return name.split(' ').map(n => n[0]).join('').toUpperCase().slice(0, 2);
  };

  // @return
  return <div className="min-h-screen bg-white w-full max-w-[390px] mx-auto">
      <motion.div initial="hidden" animate="visible" variants={containerVariants} className="flex flex-col h-full">
        {/* Top Bar */}
        <motion.div variants={itemVariants} className="flex items-center justify-between px-4 py-4 border-b border-gray-200 bg-white sticky top-0 z-10">
          <button onClick={onBack} className="p-2 hover:bg-gray-100 rounded-full transition-colors" aria-label={isHindi ? 'वापस जाएं' : 'Go back'}>
            <ChevronLeft className="w-6 h-6 text-gray-700" />
          </button>
          <h1 className="text-xl font-semibold text-gray-900">
            {isHindi ? 'प्रोफ़ाइल और सेटिंग्स' : 'Profile & Settings'}
          </h1>
          <div className="w-10" />
        </motion.div>

        {/* Scrollable Content */}
        <div className="flex-1 overflow-y-auto pb-6">
          {/* Profile Header Section */}
          <motion.div variants={itemVariants} className="mx-4 mt-6 mb-4">
            <div className="bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-100">
              <div className="flex items-start justify-between mb-4">
                <div className="flex items-center space-x-4">
                  <div className="w-20 h-20 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-lg">
                    {getInitials(userName)}
                  </div>
                  <div>
                    <h2 className="text-xl font-bold text-gray-900">{userName}</h2>
                    <div className="flex items-center mt-1 space-x-2">
                      <span className="text-sm text-gray-600">{isHindi ? 'ABHA ID:' : 'ABHA ID:'}</span>
                      <span className="text-sm font-medium text-gray-800">{abhaId}</span>
                    </div>
                    <div className="flex items-center mt-2 space-x-1">
                      {isAbhaLinked ? <>
                          <CheckCircle className="w-4 h-4 text-green-600" />
                          <span className="text-xs font-medium text-green-700">
                            {isHindi ? 'लिंक किया गया' : 'Linked'}
                          </span>
                        </> : <>
                          <XCircle className="w-4 h-4 text-red-600" />
                          <span className="text-xs font-medium text-red-700">
                            {isHindi ? 'लिंक नहीं किया गया' : 'Not Linked'}
                          </span>
                        </>}
                    </div>
                  </div>
                </div>
                <button onClick={onEditProfile} className="p-2 bg-white hover:bg-gray-50 rounded-full transition-colors shadow-sm" aria-label={isHindi ? 'प्रोफ़ाइल संपादित करें' : 'Edit profile'}>
                  <Edit2 className="w-5 h-5 text-blue-600" />
                </button>
              </div>
              <div className="space-y-2 pt-3 border-t border-blue-200">
                <div className="flex items-center space-x-2 text-sm text-gray-700">
                  <Phone className="w-4 h-4 text-gray-500" />
                  <span>{phone}</span>
                </div>
                <div className="flex items-center space-x-2 text-sm text-gray-700">
                  <Mail className="w-4 h-4 text-gray-500" />
                  <span>{email}</span>
                </div>
              </div>
            </div>
          </motion.div>

          {/* Language & Accessibility Section */}
          <motion.div variants={itemVariants} className="mx-4 mb-4">
            <h3 className="text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3 px-1">
              {isHindi ? 'भाषा और पहुँच' : 'Language & Accessibility'}
            </h3>
            <div className="bg-white rounded-2xl border border-gray-200 overflow-hidden">
              {/* Language Selector */}
              <div className="p-4 border-b border-gray-100">
                <div className="flex items-center justify-between mb-3">
                  <div className="flex items-center space-x-3">
                    <div className="p-2 bg-purple-50 rounded-lg">
                      <Globe className="w-5 h-5 text-purple-600" />
                    </div>
                    <div>
                      <p className="text-sm font-semibold text-gray-900">
                        {isHindi ? 'भाषा' : 'Language'}
                      </p>
                      <p className="text-xs text-gray-500">
                        {isHindi ? 'ऐप भाषा चुनें' : 'Select app language'}
                      </p>
                    </div>
                  </div>
                </div>
                <div className="flex space-x-2">
                  <button onClick={() => handleLanguageChange('english')} className={`flex-1 py-2.5 px-4 rounded-lg font-medium text-sm transition-all ${selectedLanguage === 'english' ? 'bg-purple-600 text-white shadow-lg shadow-purple-200' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`}>
                    English
                  </button>
                  <button onClick={() => handleLanguageChange('hindi')} className={`flex-1 py-2.5 px-4 rounded-lg font-medium text-sm transition-all ${selectedLanguage === 'hindi' ? 'bg-purple-600 text-white shadow-lg shadow-purple-200' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`}>
                    हिंदी
                  </button>
                </div>
              </div>

              {/* Guided Mode Toggle */}
              <div className="p-4">
                <div className="flex items-center justify-between">
                  <div className="flex items-center space-x-3 flex-1">
                    <div className="p-2 bg-orange-50 rounded-lg">
                      <AlertCircle className="w-5 h-5 text-orange-600" />
                    </div>
                    <div className="flex-1">
                      <p className="text-sm font-semibold text-gray-900">
                        {isHindi ? 'गाइडेड मोड' : 'Guided Mode'}
                      </p>
                      <p className="text-xs text-gray-500 mt-0.5">
                        {isHindi ? 'आवाज सहायता और बड़े आइकन सक्षम करें' : 'Enable voice assistance and larger icons'}
                      </p>
                    </div>
                  </div>
                  <button onClick={handleGuidedModeToggle} className={`relative inline-flex h-7 w-12 items-center rounded-full transition-colors ${guidedMode ? 'bg-green-600' : 'bg-gray-300'}`} role="switch" aria-checked={guidedMode}>
                    <span className={`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${guidedMode ? 'translate-x-6' : 'translate-x-1'}`} />
                  </button>
                </div>
              </div>
            </div>
          </motion.div>

          {/* Security Section */}
          <motion.div variants={itemVariants} className="mx-4 mb-4">
            <h3 className="text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3 px-1">
              {isHindi ? 'सुरक्षा' : 'Security'}
            </h3>
            <div className="bg-white rounded-2xl border border-gray-200 overflow-hidden">
              <button onClick={onSetPin} className="w-full p-4 flex items-center justify-between hover:bg-gray-50 transition-colors border-b border-gray-100">
                <div className="flex items-center space-x-3">
                  <div className="p-2 bg-blue-50 rounded-lg">
                    <Lock className="w-5 h-5 text-blue-600" />
                  </div>
                  <div className="text-left">
                    <p className="text-sm font-semibold text-gray-900">
                      {isHindi ? 'पिन सेट करें / बदलें' : 'Set / Change PIN'}
                    </p>
                    <p className="text-xs text-gray-500">
                      {isHindi ? 'अपनी सुरक्षा पिन प्रबंधित करें' : 'Manage your security PIN'}
                    </p>
                  </div>
                </div>
                <ChevronRight className="w-5 h-5 text-gray-400" />
              </button>

              <div className="p-4">
                <div className="flex items-center justify-between">
                  <div className="flex items-center space-x-3 flex-1">
                    <div className="p-2 bg-green-50 rounded-lg">
                      <Fingerprint className="w-5 h-5 text-green-600" />
                    </div>
                    <div className="flex-1">
                      <p className="text-sm font-semibold text-gray-900">
                        {isHindi ? 'बायोमेट्रिक अनलॉक' : 'Biometric Unlock'}
                      </p>
                      <p className="text-xs text-gray-500 mt-0.5">
                        {isHindi ? 'फिंगरप्रिंट / फेस अनलॉक' : 'Fingerprint / Face unlock'}
                      </p>
                    </div>
                  </div>
                  <button onClick={handleBiometricToggle} className={`relative inline-flex h-7 w-12 items-center rounded-full transition-colors ${biometric ? 'bg-green-600' : 'bg-gray-300'}`} role="switch" aria-checked={biometric}>
                    <span className={`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${biometric ? 'translate-x-6' : 'translate-x-1'}`} />
                  </button>
                </div>
              </div>
            </div>
          </motion.div>

          {/* Health & Nominee Section */}
          <motion.div variants={itemVariants} className="mx-4 mb-4">
            <h3 className="text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3 px-1">
              {isHindi ? 'स्वास्थ्य और नामांकित' : 'Health & Nominee'}
            </h3>
            <div className="bg-white rounded-2xl border border-gray-200 overflow-hidden">
              <button onClick={onManageNominee} className="w-full p-4 flex items-center justify-between hover:bg-gray-50 transition-colors border-b border-gray-100">
                <div className="flex items-center space-x-3">
                  <div className="p-2 bg-pink-50 rounded-lg">
                    <Users className="w-5 h-5 text-pink-600" />
                  </div>
                  <div className="text-left">
                    <p className="text-sm font-semibold text-gray-900">
                      {isHindi ? 'नामांकित व्यक्ति प्रबंधन' : 'Nominee Management'}
                    </p>
                    <p className="text-xs text-gray-500">
                      {isHindi ? 'अपने नामांकित व्यक्ति जोड़ें या प्रबंधित करें' : 'Add or manage your nominees'}
                    </p>
                  </div>
                </div>
                <ChevronRight className="w-5 h-5 text-gray-400" />
              </button>

              <button onClick={onEmergencyCard} className="w-full p-4 flex items-center justify-between hover:bg-gray-50 transition-colors">
                <div className="flex items-center space-x-3">
                  <div className="p-2 bg-red-50 rounded-lg">
                    <Heart className="w-5 h-5 text-red-600" />
                  </div>
                  <div className="text-left">
                    <p className="text-sm font-semibold text-gray-900">
                      {isHindi ? 'आपातकालीन कार्ड सेटिंग्स' : 'Emergency Card Settings'}
                    </p>
                    <p className="text-xs text-gray-500">
                      {isHindi ? 'अपना आपातकालीन जानकारी अपडेट करें' : 'Update your emergency info'}
                    </p>
                  </div>
                </div>
                <ChevronRight className="w-5 h-5 text-gray-400" />
              </button>
            </div>
          </motion.div>

          {/* Legal & Support Section */}
          <motion.div variants={itemVariants} className="mx-4 mb-4">
            <h3 className="text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3 px-1">
              {isHindi ? 'सहायता और गोपनीयता' : 'Legal & Support'}
            </h3>
            <div className="bg-white rounded-2xl border border-gray-200 overflow-hidden">
              <button onClick={onFaq} className="w-full p-4 flex items-center justify-between hover:bg-gray-50 transition-colors border-b border-gray-100">
                <div className="flex items-center space-x-3">
                  <div className="p-2 bg-indigo-50 rounded-lg">
                    <HelpCircle className="w-5 h-5 text-indigo-600" />
                  </div>
                  <p className="text-sm font-semibold text-gray-900">
                    {isHindi ? 'अक्सर पूछे जाने वाले प्रश्न' : 'FAQ / Help Center'}
                  </p>
                </div>
                <ChevronRight className="w-5 h-5 text-gray-400" />
              </button>

              <button onClick={onSupport} className="w-full p-4 flex items-center justify-between hover:bg-gray-50 transition-colors border-b border-gray-100">
                <div className="flex items-center space-x-3">
                  <div className="p-2 bg-teal-50 rounded-lg">
                    <Phone className="w-5 h-5 text-teal-600" />
                  </div>
                  <p className="text-sm font-semibold text-gray-900">
                    {isHindi ? 'सहायता से संपर्क करें' : 'Contact Support'}
                  </p>
                </div>
                <ChevronRight className="w-5 h-5 text-gray-400" />
              </button>

              <button onClick={onTerms} className="w-full p-4 flex items-center justify-between hover:bg-gray-50 transition-colors border-b border-gray-100">
                <div className="flex items-center space-x-3">
                  <div className="p-2 bg-gray-50 rounded-lg">
                    <FileText className="w-5 h-5 text-gray-600" />
                  </div>
                  <p className="text-sm font-semibold text-gray-900">
                    {isHindi ? 'नियम और शर्तें' : 'Terms & Conditions'}
                  </p>
                </div>
                <ChevronRight className="w-5 h-5 text-gray-400" />
              </button>

              <button onClick={onPrivacy} className="w-full p-4 flex items-center justify-between hover:bg-gray-50 transition-colors">
                <div className="flex items-center space-x-3">
                  <div className="p-2 bg-gray-50 rounded-lg">
                    <Shield className="w-5 h-5 text-gray-600" />
                  </div>
                  <p className="text-sm font-semibold text-gray-900">
                    {isHindi ? 'गोपनीयता नीति' : 'Privacy Policy'}
                  </p>
                </div>
                <ChevronRight className="w-5 h-5 text-gray-400" />
              </button>
            </div>
          </motion.div>

          {/* Logout Button */}
          <motion.div variants={itemVariants} className="mx-4 mb-6">
            <button onClick={onLogout} className="w-full py-4 px-6 bg-white border-2 border-red-500 text-red-600 rounded-2xl font-semibold hover:bg-red-50 transition-colors flex items-center justify-center space-x-2 shadow-sm">
              <LogOut className="w-5 h-5" />
              <span>{isHindi ? 'लॉगआउट / खाता बदलें' : 'Logout / Switch Account'}</span>
            </button>
          </motion.div>
        </div>
      </motion.div>
    </div>;
};